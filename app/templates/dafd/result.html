{% extends "layout-2.html" %}

{% block smallheader %}
    <div class="text-left logo" style="background-color:#cccccc;padding:10px;">
		<img src="{{ url_for('static', filename='dafd/img/dafd-logo-2.png') }}" width="15%"/>
	</div>
    {% endblock %}
    <hr/>
    
{%  block content %}
                
<!-- page content -->
<div class="d-flex align-items-center justify-content-center min-vh-100">
    <div class="container">
        <div class="row">

            <div class="col-md-1"></div>
            <div class="col-md-10" border=1>
                <h3>Results</h3>

                <form action="{{ url_for('eda.details') }}" method='post'>

                <table border=1>
                    <tr>
                        {% for column in columns %}
                            <th>{{column}}</th>
                        {% endfor %}
                    </tr>
                    {% for row in data %}
                    <tr>
                        {% for col in row %}
                            <td>{{col}}</td>
                        {% endfor %}
                        <td>
                            <input type='hidden' name='model' value='{{row[0]}}'/>
                            <input type='submit' name='details_{{ loop.index }}' value='See details' class="btn btn-success"/></td>
                        <td><input type='button' name='api' value='Generate API' class="btn btn-info"/></td>
                    </tr>
                    {% endfor %}
                    
                </table>
                </form>

                <br/>
                {% for row in data %}
                    <p>Cross-validated: {{ crossval }}</p>
                {% endfor %}

                <br/>
                <h5>Cross-Validate Table</h5>
                <table border=1>
                    <tr>
                        <th>Fold #</th>
                        {% for c in cv_columns %}
                            <th>Parameter #{{c + 1}}</th>
                        {% endfor %}
                    </tr>
                    {% for r in range(num_folds) %}
                    <tr>
                        <td>Fold {{ r }}</td>
                        {% for c2 in cv_results['split0_test_score'] %}
                        <td>{{ c2 }}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </table>

            </div>
            <div class="col-md-1"></div>
        </div>
    </div>
</div>

<!-- /page content -->
{% endblock %}
